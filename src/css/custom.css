/**
 * Custom CSS for Imperat Documentation
 * Featuring St. Patrick's Blue, Indigo, and Trypan Blue color schemes
 * Optimized for both light and dark themes with perfect contrast
 */

/* ========================================
   COLOR VARIABLES & THEME DEFINITIONS
   ======================================== */

:root {
  /* St. Patrick's Blue Color Palette */
  --st-patrick-blue: #23297a;
  --st-patrick-blue-light: #343db5;
  --st-patrick-blue-lighter: #4851cb;
  --st-patrick-blue-lightest: #676ed3;
  --st-patrick-blue-dark: #1d2266;
  --st-patrick-blue-darker: #181c52;
  --st-patrick-blue-darkest: #12153f;
  
  /* Indigo Color Palette */
  --indigo: #4f46e5;
  --indigo-light: #6366f1;
  --indigo-lighter: #818cf8;
  --indigo-lightest: #a5b4fc;
  --indigo-dark: #4338ca;
  --indigo-darker: #3730a3;
  --indigo-darkest: #312e81;
  
  /* Trypan Blue Color Palette */
  --trypan-blue: #131342;
  --trypan-blue-light: #1e1b5c;
  --trypan-blue-lighter: #2a2776;
  --trypan-blue-lightest: #363390;
  --trypan-blue-dark: #0e0f35;
  --trypan-blue-darker: #0a0a21;
  --trypan-blue-darkest: #070718;


  /* ========================================
     LIGHT THEME VARIABLES
     ======================================== */
  
  /* Primary Colors */
  --ifm-color-primary: rgba(13, 13, 14, 0.945);
  --ifm-color-primary-dark: var(--st-patrick-blue-dark);
  --ifm-color-primary-darker: var(--st-patrick-blue-darker);
  --ifm-color-primary-darkest: var(--st-patrick-blue-darkest);
  --ifm-color-primary-light: var(--st-patrick-blue-light);
  --ifm-color-primary-lighter: var(--st-patrick-blue-lighter);
  --ifm-color-primary-lightest: var(--st-patrick-blue-lightest);
  
  /* Secondary Colors */
  --ifm-color-secondary: #64748b;
  --ifm-color-secondary-dark: #475569;
  --ifm-color-secondary-darker: #334155;
  --ifm-color-secondary-darkest: #1e293b;
  --ifm-color-secondary-light: #94a3b8;
  --ifm-color-secondary-lighter: #cbd5e1;
  --ifm-color-secondary-lightest: #f1f5f9;
  

   /* Tab Colors */
  --ifm-tab-active-bg-color: #6b46c1;
  --ifm-tab-active-item-color: #ffffff;
  --ifm-tab-inactive-bg-color: #1f2937;
  --ifm-tab-inactive-item-color: #ffffff;
  --ifm-tab-inactive-hover-bg-color: #374151;
  --ifm-tab-inactive-hover-item-color: #ffffff;

  /* Semantic Colors */
  --ifm-color-success: #10b981;
  --ifm-color-warning: #f59e0b;
  --ifm-color-error: #ef4444;
  
  /* Background Colors */
  --ifm-background-color: #ffffff;
  --ifm-background-surface-color: #f8fafc;
  --ifm-background-sidebar: #ffffff;
  
  /* Text Colors */
  --ifm-color-content: var(--trypan-blue-darkest);
  --ifm-color-content-secondary: #475569;
  --ifm-menu-text: #252525;
  --ifm-menu-text-hover: var(--indigo-lighter);
  --ifm-menu-text-active: var(--indigo-dark);
  
  /* Link Colors */
  --ifm-link-color: var(--st-patrick-blue);
  --ifm-link-hover-color: var(--st-patrick-blue-dark);
  --ifm-link-decoration-color: var(--st-patrick-blue-lighter);
  
  /* Border & Emphasis Colors */
  --ifm-color-emphasis-100: #f1f5f9;
  --ifm-color-emphasis-200: #e2e8f0;
  --ifm-color-emphasis-300: #cbd5e1;
  --ifm-color-emphasis-500: #94a3b8;
  --ifm-color-emphasis-700: #64748b;
  
  /* Menu Colors */
  --ifm-menu-hover-bg: rgba(79, 70, 229, 0.08);
  --ifm-menu-active-bg: var(--indigo-lighter);
  --ifm-menu-open-category-bg: rgba(79, 70, 229, 0.15);
  --ifm-menu-open-category-text: #312e81;
  --ifm-menu-open-item-selected-hover-text-color: rgba(79, 70, 229, 0.15)

  /* Code & Syntax Highlighting */
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(35, 41, 122, 0.1);
}

/* ========================================
   DARK THEME VARIABLES
   ======================================== */

[data-theme='dark'] {
  /* Primary Colors - Adjusted for dark backgrounds */
  --ifm-color-primary: rgba(255, 255, 255, 0.945);
  --ifm-color-primary-dark: var(--indigo-light);
  --ifm-color-primary-darker: var(--indigo);
  --ifm-color-primary-darkest: var(--indigo-dark);
  --ifm-color-primary-light: var(--indigo-lightest);
  --ifm-color-primary-lighter: #c7d2fe;
  --ifm-color-primary-lightest: #e0e7ff;
  
  /* Secondary Colors */
  --ifm-color-secondary: #94a3b8;
  --ifm-color-secondary-dark: #64748b;
  --ifm-color-secondary-darker: #475569;
  --ifm-color-secondary-darkest: #334155;
  --ifm-color-secondary-light: #cbd5e1;
  --ifm-color-secondary-lighter: #e2e8f0;
  --ifm-color-secondary-lightest: #f1f5f9;
  

     /* Tab Colors */
   --ifm-tab-active-bg-color: #7c3aed;
   --ifm-tab-active-item-color: #ffffff;
   --ifm-tab-inactive-bg-color: var(--trypan-blue-lighter);
   --ifm-tab-inactive-item-color: #e2e8f0;
   --ifm-tab-inactive-hover-bg-color: var(--trypan-blue-light);
   --ifm-tab-inactive-hover-item-color: #f1f5f9;

  /* Semantic Colors */
  --ifm-color-success: #34d399;
  --ifm-color-warning: #fbbf24;
  --ifm-color-error: #f87171;
  
  /* Background Colors */
  --ifm-background-color: var(--trypan-blue-darkest);
  --ifm-background-surface-color: var(--trypan-blue-dark);
  --ifm-background-sidebar: var(--trypan-blue-darkest);
  
  /* Text Colors */
  --ifm-color-content: #f1f5f9;
  --ifm-color-content-secondary: #cbd5e1;
  --ifm-menu-text: #ffffff;
  --ifm-menu-text-hover: #c7d2fe;
  --ifm-menu-text-active: var(--indigo-light);
  
  /* Link Colors */
  --ifm-link-color: var(--indigo-lighter);
  --ifm-link-hover-color: var(--indigo-lightest);
  --ifm-link-decoration-color: var(--indigo-light);
  
  /* Border & Emphasis Colors */
  --ifm-color-emphasis-100: var(--trypan-blue-dark);
  --ifm-color-emphasis-200: var(--trypan-blue-lighter);
  --ifm-color-emphasis-300: #334155;
  --ifm-color-emphasis-500: #475569;
  --ifm-color-emphasis-700: #64748b;
  
  /* Menu Colors */
  --ifm-menu-hover-bg: rgba(34, 211, 238, 0.15);
  --ifm-menu-active-bg: var(--indigo);
  --ifm-menu-open-category-bg: rgba(34, 211, 238, 0.20);
  --ifm-menu-open-category-text: #a5b4fc;
  --ifm-menu-open-item-selected-hover-text-color: var(--indigo-dark);

  /* Code & Syntax Highlighting */
  --docusaurus-highlighted-code-line-bg: rgba(129, 140, 248, 0.2);
}

/* ========================================
   NAVIGATION & HEADER STYLING
   ======================================== */

.navbar {
  box-shadow: 0 2px 4px 0 rgba(35, 41, 122, 0.1), 0 1px 2px 0 rgba(35, 41, 122, 0.06);
  background-color: var(--ifm-background-color);
  border-bottom: 1px solid var(--ifm-color-emphasis-300);
}

.navbar__brand {
  font-weight: 700;
  color: var(--ifm-color-primary);
}

.navbar__item {
  color: var(--ifm-color-content);
}

.navbar__link {
  color: var(--ifm-color-content);
  font-weight: 500;
  transition: all 0.2s ease-in-out;
}

.navbar__link:hover {
  color: var(--ifm-color-primary);
}

/* ========================================
   SIDEBAR & MENU STYLING
   ======================================== */

.sidebar {
  background-color: var(--ifm-background-color);
  border-right: 1px solid var(--ifm-color-emphasis-300);
}

.menu {
  background-color: transparent;
  padding: 1rem;
}

.menu__list {
  margin: 0;
}

.menu__list-item {
  margin: 0.25rem 0;
}

/* Base menu link styling */
.menu__link {
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  margin: 0.125rem 0;
  transition: all 0.2s ease-in-out;
  font-weight: 500;
  color: var(--ifm-menu-text);
  background-color: transparent;
}

/* Non-active menu links */
.menu__link:not(.menu__link--active) {
  color: var(--ifm-menu-text);
}

.menu__link:not(.menu__link--active):hover {
  background-color: rgba(99, 102, 241, 0.08);
  color: var(--ifm-menu-text-hover);
  font-weight: 600;
  transform: translateX(2px);
}

/* Active menu links */
.menu__link--active {
  text-decoration-color: var(--ifm-menu-text-active);
  background-color: var(--ifm-menu-active-bg);
  color: var(--ifm-menu-text-active);
  font-weight: 700;
  box-shadow: 0 2px 4px rgba(35, 41, 122, 0.2);
}

.menu__link--active:hover {
  background-color: var(--ifm-color-primary-lighter);
  color: var(--ifm-menu-open-item-selected-hover-text-color);
  transform: translateX(2px);
}

/* Open/expanded menu categories */
.menu__list-item--collapsed .menu__link {
  background-color: transparent;
  color: var(--ifm-menu-open-category-text);
  font-weight: 600;
  border-left: 3px solid var(--indigo-darker);
}

.menu__list-item--collapsed .menu__link:hover {
  background-color: transparent;
  color: var(--ifm-menu-open-category-text);
  font-weight: 700;
}

/* Category headers that are active */
.menu__list-item--collapsed .menu__link--active {
  background-color: var(--ifm-color-primary-dark);
  color: var(--indigo-darkest);
  font-weight: 700;
  border-left: 3px solid var(--indigo-darkest);
}

.menu__list-item--collapsed .menu__link--active:hover {
  background-color: var(--ifm-color-primary-darkest);
  color: var(--indigo-darkest);
}

/* ========================================
   TABLE OF CONTENTS (TOC) STYLING
   ======================================== */

/* TOC Container - Right sidebar */
.theme-doc-toc-desktop {
  padding-left: 1rem;
}

/* TOC List */
.table-of-contents {
  border-left: 2px solid var(--ifm-color-emphasis-200);
  padding-left: 0;
  margin: 0;
}

/* TOC Items */
.table-of-contents li {
  margin: 0.125rem 0;
  list-style: none;
  padding: 0;
}

/* TOC Links - Light Theme (Dark Blue) */
.table-of-contents__link {
  color: var(--st-patrick-blue-dark);
  text-decoration: none;
  font-size: 0.8rem;
  line-height: 1.4;
  font-weight: 500;
  transition: all 0.2s ease-in-out;
  padding: 0.375rem 0.75rem;
  margin: 0.125rem 0;
  border-radius: 0.25rem;
  display: block;
  border-left: 3px solid transparent;
}

.table-of-contents__link:hover {
  color: var(--st-patrick-blue-darkest);
  text-decoration: none;
  background-color: rgba(35, 41, 122, 0.08);
  border-left-color: var(--st-patrick-blue);
  transform: translateX(2px);
}

/* Active TOC Link - Light Theme */
.table-of-contents__link--active {
  color: var(--st-patrick-blue-darkest);
  font-weight: 700;
  background-color: rgba(35, 41, 122, 0.12);
  border-left-color: var(--st-patrick-blue-dark);
}

.table-of-contents__link--active:hover {
  background-color: rgba(35, 41, 122, 0.16);
  border-left-color: var(--st-patrick-blue-darkest);
}

/* Dark Theme TOC Styling - Pale Violet/Indigo */
[data-theme='dark'] .table-of-contents__link {
  color: var(--indigo-lighter);
}

[data-theme='dark'] .table-of-contents__link:hover {
  color: var(--indigo-lightest);
  background-color: rgba(129, 140, 248, 0.12);
  border-left-color: var(--indigo-light);
}

[data-theme='dark'] .table-of-contents__link--active {
  color: var(--indigo-lightest);
  background-color: rgba(129, 140, 248, 0.18);
  border-left-color: var(--indigo-lighter);
}

[data-theme='dark'] .table-of-contents__link--active:hover {
  background-color: rgba(129, 140, 248, 0.24);
  border-left-color: var(--indigo-lightest);
}

/* Nested TOC Items */
.table-of-contents li .table-of-contents {
  margin-top: 0.25rem;
  margin-left: 0.5rem;
  border-left: 1px solid var(--ifm-color-emphasis-200);
  padding-left: 0;
}

/* TOC Mobile (collapsed state) */
.theme-doc-toc-mobile .table-of-contents__link {
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
}

/* ========================================
   CONTENT STYLING
   ======================================== */

/* Code blocks */
.prism-code {
  border-radius: 0.75rem;
  border: 1px solid var(--ifm-color-emphasis-300);
  background-color: var(--ifm-background-surface-color);
}

/* Cards */
.card {
  border: 1px solid var(--ifm-color-emphasis-300);
  border-radius: 0.75rem;
  transition: all 0.3s ease-in-out;
  background-color: var(--ifm-background-surface-color);
}

.card:hover {
  border-color: var(--ifm-color-primary);
  box-shadow: 0 8px 16px -4px rgba(35, 41, 122, 0.1), 0 4px 8px -2px rgba(35, 41, 122, 0.06);
  transform: translateY(-2px);
}

/* Buttons */
.button {
  border-radius: 0.5rem;
  font-weight: 600;
  transition: all 0.2s ease-in-out;
  text-transform: none;
}

.button--primary {
  background-color: var(--ifm-color-primary);
  border-color: var(--ifm-color-primary);
  color: white;
}

.button--primary:hover {
  background-color: var(--ifm-color-primary-dark);
  border-color: var(--ifm-color-primary-dark);
  color: white;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(35, 41, 122, 0.2);
}

/* Tables */
table {
  border-radius: 0.75rem;
  overflow: hidden;
  border: 1px solid var(--ifm-color-emphasis-300);
  background-color: var(--ifm-background-surface-color);
}

th {
  background-color: var(--ifm-color-emphasis-200);
  font-weight: 700;
  color: var(--ifm-color-content);
  border-bottom: 2px solid var(--ifm-color-primary);
}

td, th {
  border-bottom: 1px solid var(--ifm-color-emphasis-300);
  padding: 1rem;
}

tr:hover {
  background-color: var(--ifm-color-emphasis-100);
}

/* ========================================
   ADMONITIONS & ALERTS
   ======================================== */

.alert {
  border-radius: 0.75rem;
  border: none;
  margin: 1.5rem 0;
  padding: 1.25rem;
  font-weight: 500;
}

/* Info admonitions */
.alert--info {
  background-color: #f0f9ff;
  color: #0c4a6e;
  border-left: 4px solid var(--st-patrick-blue);
}

.alert--info strong,
.alert--info code {
  color: #0c4a6e;
  font-weight: 700;
}

/* Warning admonitions */
.alert--warning {
  background-color: #fefce8;
  color: #713f12; /* color of the alert text */
  border-left: 4px solid #f59e0b; /* color of the left border */
}

.alert--warning strong,
.alert--warning code {
  color: #713f12;
  font-weight: 700;
}

/* Danger admonitions */
.alert--danger {
  background-color: #fef2f2;
  color: #7f1d1d;
  border-left: 4px solid #ef4444;
}

.alert--danger strong,
.alert--danger code {
  color: #7f1d1d;
  font-weight: 700;
}

/* Success admonitions */
.alert--success {
  background-color: #f0fdf4;
  color: #14532d;
  border-left: 4px solid #22c55e;
}

.alert--success strong,
.alert--success code {
  color: #14532d;
  font-weight: 700;
}

/* Dark theme admonitions - Fix both background and icon colors */
[data-theme='dark'] .alert--info {
  background-color: #ffffff !important;
  border-left: 4px solid var(--st-patrick-blue) !important;
  --ifm-alert-foreground-color: #0c4a6e !important;
}

[data-theme='dark'] .alert--warning {
  background-color: #fefce8 !important;
  border-left: 4px solid #f59e0b !important;
  --ifm-alert-foreground-color: #713f12 !important;
}

[data-theme='dark'] .alert--danger {
  background-color: #fef2f2 !important;
  border-left: 4px solid #ef4444 !important;
  --ifm-alert-foreground-color: #7f1d1d !important;
}

[data-theme='dark'] .alert--success {
  background-color: #f0fdf4 !important;
  border-left: 4px solid #22c55e !important;
  --ifm-alert-foreground-color: #14532d !important;
}

/* FINAL SOLUTION - Force exact same icon dimensions and styling in dark theme */
[data-theme='dark'] .admonitionIcon svg {
  height: 1.6em !important;
  width: 1.6em !important;
  display: inline-block !important;
  vertical-align: middle !important;
  fill: #0c4a6e !important;
}

[data-theme='dark'] .alert--info .admonitionIcon svg {
  fill: #0c4a6e !important;
}

[data-theme='dark'] .alert--warning .admonitionIcon svg {
  fill: #713f12 !important;
}

[data-theme='dark'] .alert--danger .admonitionIcon svg {
  fill: #7f1d1d !important;
}

[data-theme='dark'] .alert--success .admonitionIcon svg {
  fill: #14532d !important;
}

/* Force same icon container styling */
[data-theme='dark'] .admonitionIcon {
  display: inline-block !important;
  vertical-align: middle !important;
  margin-right: 0.4em !important;
}

/* ========================================
   TABS STYLING
   ======================================== */

.tabs {
  border-radius: 0.75rem;
  overflow: hidden;
  border: none;
}

.tabs__item {
  border-radius: 0.375rem;
  transition: all 0.2s ease-in-out;
  font-weight: 500;
  color: var(--ifm-tab-inactive-item-color);
  background-color: var(--ifm-tab-inactive-bg-color);
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  margin: 0 0.125rem;
}

.tabs__item:hover {
  background-color: var(--ifm-tab-inactive-hover-bg-color);
  color: var(--ifm-tab-inactive-hover-item-color);
}

.tabs__item--active {
  background-color: var(--ifm-tab-active-bg-color);
  color: var(--ifm-tab-active-item-color);
  font-weight: 700;
}

/* Tab styling now uses CSS variables - no need for theme-specific overrides */

/* ========================================
   LINK STYLING
   ======================================== */

a {
  text-decoration: underline;
  text-decoration-color: var(--ifm-link-decoration-color);
  text-underline-offset: 3px;
  transition: all 0.2s ease-in-out;
  color: var(--ifm-link-color);
}

a:hover {
  text-decoration-color: var(--ifm-link-hover-color);
  text-decoration-thickness: 2px;
  color: var(--ifm-link-hover-color);
}

/* Exception for navigation and UI elements */
.navbar a,
.menu__link,
.button,
.tabs__item,
.card a,
.footer a {
  text-decoration: none;
}

.navbar a:hover,
.menu__link:hover,
.button:hover,
.tabs__item:hover,
.card a:hover,
.footer a:hover {
  text-decoration: underline;
  text-decoration-color: var(--ifm-link-decoration-color);
}

/* Admonition links */
.alert a,
.admonition a {
  text-decoration: underline !important;
  text-decoration-color: var(--ifm-link-decoration-color) !important;
  text-underline-offset: 2px !important;
  font-weight: 700 !important;
  color: var(--ifm-link-color) !important;
}

.alert a:hover,
.admonition a:hover {
  text-decoration-color: var(--ifm-link-hover-color) !important;
  text-decoration-thickness: 2px !important;
  color: var(--ifm-link-hover-color) !important;
}

[data-theme='dark'] .alert a,
[data-theme='dark'] .admonition a {
  text-decoration: underline !important;
  text-decoration-color: var(--indigo-darkest) !important;
  color: var(--indigo-darkest) !important;
}

[data-theme='dark'] .alert a:hover,
[data-theme='dark'] .admonition a:hover {
  text-decoration-color: var(--indigo-light) !important;
  color: var(--indigo-light) !important;
}

/* ========================================
   FOOTER STYLING
   ======================================== */

.footer {
  background-color: var(--ifm-color-emphasis-100);
  border-top: 1px solid var(--ifm-color-emphasis-300);
  color: var(--ifm-color-content-secondary);
}

.footer__title {
  color: var(--ifm-color-primary);
  font-weight: 700;
}

.footer__link-item {
  color: var(--ifm-color-content-secondary);
  transition: all 0.2s ease-in-out;
}

.footer__link-item:hover {
  color: var(--ifm-color-primary);
}

/* ========================================
   SCROLLBAR STYLING
   ======================================== */

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--ifm-color-emphasis-100);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb {
  background: var(--ifm-color-emphasis-500);
  border-radius: 5px;
  transition: all 0.2s ease-in-out;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--ifm-color-primary);
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

@media (max-width: 996px) {
  .navbar__brand {
    font-size: 1.25rem;
  }
  
  .menu__link {
    padding: 0.75rem 1rem;
    font-size: 0.95rem;
  }
  
  .sidebar {
    background-color: var(--ifm-background-color);
  }
  
  .menu {
    padding: 0.5rem;
  }
}

@media (max-width: 768px) {
  .menu__link {
    padding: 0.625rem 0.75rem;
    font-size: 0.9rem;
  }
  
  .alert {
    margin: 1rem 0;
    padding: 1rem;
  }
  
  .card {
    margin: 0.75rem 0;
  }
}

/* ========================================
   ACCESSIBILITY ENHANCEMENTS
   ======================================== */

/* Focus states */
.menu__link:focus,
.button:focus,
a:focus {
  outline: 2px solid var(--ifm-color-primary);
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .menu__link:not(.menu__link--active) {
    color: var(--ifm-color-content);
  }
  
  .menu__link:not(.menu__link--active):hover {
    background-color: var(--ifm-color-emphasis-300);
    color: var(--ifm-color-content);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

.text-st-patrick {
  color: var(--st-patrick-blue) !important;
}

.text-indigo {
  color: var(--indigo) !important;
}

.bg-indigo {
  background-color: var(--indigo) !important;
}

.border-st-patrick {
  border-color: var(--st-patrick-blue) !important;
}

.border-indigo {
  border-color: var(--indigo) !important;
}